<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 파브 수련회 출석부 도우미</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-color: #2563eb;
            --accent-color-light: #60a5fa;
            --accent-color-start: #3b82f6;
            --accent-color-end: #60a5fa;
            --header-bg-image: url('https://placehold.co/1000x200/c7d2fe/ffffff?text=');
            --header-bg-position: center;
            --header-bg-size: cover;
            --header-bg-opacity: 0.1;
            --header-mix-blend-mode: overlay;
        }

        body {
            font-family: 'Malgun Gothic', 'Inter', sans-serif;
            background-color: #f4f7f9;
            color: #333;
            line-height: 1.6;
        }

        .document-generator-wrapper {
            display: flex;
            gap: 24px;
            padding: 24px;
        }

        .control-panel {
            width: 400px;
            flex-shrink: 0;
        }

        .document-output {
            flex-grow: 1;
            min-height: 100vh;
        }

        .material-section {
            background-color: #fff;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }
        
        .material-section:hover {
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
        }

        .section-heading {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--accent-color);
            padding-bottom: 8px;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color-light);
            display: flex;
            align-items: center;
        }
        
        .section-heading i {
            font-size: 1.25rem;
            color: var(--accent-color);
            margin-right: 0.5rem;
        }
        
        .gradient-header-bg {
            position: relative;
            background: linear-gradient(135deg, var(--accent-color-start), var(--accent-color-end));
            color: white;
            padding: 4rem;
            border-radius: 12px;
            margin-bottom: 24px;
            overflow: hidden;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .gradient-header-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--header-bg-image);
            background-repeat: no-repeat;
            background-position: var(--header-bg-position);
            background-size: var(--header-bg-size);
            opacity: var(--header-bg-opacity);
            mix-blend-mode: var(--header-mix-blend-mode);
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            transition: border-color 0.3s, box-shadow 0.3s;
            background-color: #f8fafc;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
            background-color: #fff;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4b5563;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .btn-primary:hover {
            background-color: #1d4ed8;
        }
        
        .btn-secondary {
            background-color: #e2e8f0;
            color: #4a5568;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .btn-secondary:hover {
            background-color: #cbd5e1;
        }
        
        .accent-border {
            border-left: 4px solid var(--accent-color);
            padding-left: 1rem;
        }

        .document-output table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            font-size: 0.875rem;
            table-layout: fixed;
        }
        .document-output th, .document-output td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: center;
        }
        .document-output th {
            background-color: #374151;
            color: #fff;
            font-weight: 600;
        }
        .document-output tr:nth-child(even) {
            background-color: #f9fafb;
        }
        .document-output .name-col {
            text-align: left;
            padding-left: 1rem;
        }
        .document-output .notes-col {
            color: #6b7280;
            font-style: italic;
        }
        .document-output input[type="text"] {
            border: none;
            background: transparent;
            width: 100%;
            text-align: center;
            padding: 0;
            box-sizing: border-box;
        }
        .document-output input[type="checkbox"] {
            transform: scale(1.2);
            cursor: pointer;
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
            .document-generator-wrapper {
                flex-direction: column;
                gap: 0;
                padding: 0;
            }
            .document-output {
                width: 100%;
                min-height: auto;
            }
            body {
                font-size: 10pt;
                line-height: 1.4;
                color: #000;
                background-color: #fff !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            .material-section {
                box-shadow: none !important;
                border: 1px solid #e2e8f0 !important;
                page-break-inside: avoid;
                margin-bottom: 16px;
            }
            .gradient-header-bg {
                background: linear-gradient(135deg, var(--accent-color-start), var(--accent-color-end)) !important;
                color: white !important;
                padding: 2rem !important;
                border-radius: 0 !important;
                margin-bottom: 16px !important;
                box-shadow: none !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            .gradient-header-bg::before {
                background-image: var(--header-bg-image) !important;
                background-position: var(--header-bg-position) !important;
                background-size: var(--header-bg-size) !important;
                opacity: var(--header-bg-opacity) !important;
                mix-blend-mode: normal !important;
            }
            .section-heading {
                border-bottom: 1px solid #ccc !important;
                color: #222 !important;
                padding-bottom: 4px !important;
                margin-bottom: 1rem !important;
            }
            .section-heading i {
                color: #555 !important;
            }
            .document-output table {
                font-size: 9pt;
            }
            .document-output th, .document-output td {
                padding: 0.5rem;
            }
            .document-output tr:nth-child(even) {
                background-color: #f0f0f0;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="document-generator-wrapper">
        <!-- Input & Control Panel -->
        <div class="control-panel no-print">
            <div class="material-section">
                <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">
                    <i class="fas fa-pencil-alt text-blue-600"></i>
                    양식 입력 및 설정
                </h2>
                
                <form id="documentForm">
                    <div class="form-group">
                        <label for="documentTitle" class="form-label">문서 제목</label>
                        <input type="text" id="documentTitle" name="documentTitle" class="form-input" placeholder="예: 2025 파브 수련회 출석부 (총 56명)">
                    </div>

                    <div class="form-group">
                        <label for="eventDate" class="form-label">행사 날짜</label>
                        <input type="text" id="eventDate" name="eventDate" class="form-input" placeholder="예: 2025년 8월 1일 ~ 3일">
                    </div>

                    <div class="form-group">
                        <label for="organizerName" class="form-label">작성자 / 부서</label>
                        <input type="text" id="organizerName" name="organizerName" class="form-input" placeholder="예: 파브 사역팀">
                    </div>
                    
                    <div class="form-group">
                        <label for="tableData" class="form-label">참석자 명단 (JSON 형식)</label>
                        <textarea id="tableData" name="tableData" class="form-textarea" placeholder="[ {&quot;no&quot;: 1, &quot;name&quot;: &quot;김예온&quot;, &quot;birthYear&quot;: 2014, &quot;note&quot;: &quot;&quot;, &quot;dues&quot;: false, &quot;attendance&quot;: false, &quot;transportation&quot;: &quot;&quot;}, ... ]"></textarea>
                    </div>

                    <div class="flex space-x-2 mt-4">
                        <button type="button" onclick="clearForm()" class="btn-secondary w-full flex items-center justify-center">
                            <i class="fas fa-redo mr-2"></i>
                            양식 초기화
                        </button>
                    </div>
                </form>

                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">
                        <i class="fas fa-save text-blue-600"></i>
                        데이터 관리
                    </h3>
                    <div class="flex flex-col space-y-2">
                        <button type="button" onclick="downloadDataFile()" class="btn-primary flex items-center justify-center">
                            <i class="fas fa-download mr-2"></i>
                            데이터 파일로 저장 (.json)
                        </button>
                        <label class="btn-secondary flex items-center justify-center cursor-pointer">
                            <input type="file" id="uploadFile" class="hidden" accept=".json" onchange="uploadDataFile(event)">
                            <i class="fas fa-upload mr-2"></i>
                            데이터 파일 불러오기 (.json)
                        </label>
                    </div>
                </div>

            </div>
        </div>
        
        <!-- Document Preview Area -->
        <div class="document-output">
            <div id="documentPreview" class="material-section">
                <!-- Preview content will be generated here by JavaScript -->
            </div>
        </div>

    </div>

    <script>
        // DOMContentLoaded 이벤트 발생 시 초기 설정
        document.addEventListener('DOMContentLoaded', () => {
            loadFormDataFromLocalStorage();
            generateDocument();
            setupAutoUpdate();
            setupInputPlaceholders();
        });

        // 자동 저장/로드 및 미리보기 업데이트 설정
        function setupAutoUpdate() {
            const formElements = document.querySelectorAll('#documentForm input, #documentForm textarea');
            formElements.forEach(element => {
                element.addEventListener('input', () => {
                    saveFormDataToLocalStorage();
                    generateDocument();
                });
            });

            // 동적으로 생성된 미리보기 테이블의 입력 필드 이벤트 리스너 설정
            const previewObserver = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'childList') {
                        const previewInputs = document.querySelectorAll('#documentPreview input');
                        previewInputs.forEach(input => {
                            // 중복 이벤트 리스너 방지를 위해 기존 리스너 제거
                            input.removeEventListener('change', handlePreviewInputChange);
                            input.removeEventListener('input', handlePreviewInputChange);
                            
                            if (input.type === 'checkbox') {
                                input.addEventListener('change', handlePreviewInputChange);
                            } else {
                                input.addEventListener('input', handlePreviewInputChange);
                            }
                        });
                    }
                });
            });
            previewObserver.observe(document.getElementById('documentPreview'), { childList: true, subtree: true });
        }

        // 미리보기 테이블의 입력 필드 변경 핸들러
        function handlePreviewInputChange(event) {
            const input = event.target;
            const row = input.closest('tr');
            const studentName = row.dataset.name;
            const inputType = input.type === 'checkbox' ? input.name.split('_')[0] : input.name;
            const formTableData = JSON.parse(document.getElementById('tableData').value || '[]');

            const updatedTableData = formTableData.map(student => {
                if (student.name === studentName) {
                    if (input.type === 'checkbox') {
                        student[inputType] = input.checked;
                    } else {
                        student[inputType] = input.value;
                    }
                }
                return student;
            });
            
            document.getElementById('tableData').value = JSON.stringify(updatedTableData, null, 2);
            saveFormDataToLocalStorage();
            generateDocument(); // 미리보기 다시 생성
        }
        
        // Tab 키로 플레이스홀더 내용 적용
        function setupInputPlaceholders() {
            document.querySelectorAll('#documentForm input[type="text"], #documentForm textarea').forEach(input => {
                input.addEventListener('keydown', (event) => {
                    if (event.key === 'Tab' && input.value === '') {
                        event.preventDefault();
                        input.value = input.placeholder;
                        input.dispatchEvent(new Event('input'));
                    }
                });
            });
        }

        // 데이터 자동 저장
        function saveFormDataToLocalStorage() {
            const formData = {
                documentTitle: document.getElementById('documentTitle').value,
                eventDate: document.getElementById('eventDate').value,
                organizerName: document.getElementById('organizerName').value,
                tableData: document.getElementById('tableData').value,
            };
            localStorage.setItem('attendanceForm', JSON.stringify(formData));
        }

        // 데이터 자동 불러오기
        function loadFormDataFromLocalStorage() {
            const savedData = localStorage.getItem('attendanceForm');
            if (savedData) {
                const formData = JSON.parse(savedData);
                document.getElementById('documentTitle').value = formData.documentTitle;
                document.getElementById('eventDate').value = formData.eventDate;
                document.getElementById('organizerName').value = formData.organizerName;
                document.getElementById('tableData').value = formData.tableData;
            }
        }

        // 양식 초기화
        function clearForm() {
            document.getElementById('documentForm').reset();
            localStorage.removeItem('attendanceForm');
            generateDocument();
        }

        // JSON 파일 다운로드
        function downloadDataFile() {
            const formData = {
                documentTitle: document.getElementById('documentTitle').value,
                eventDate: document.getElementById('eventDate').value,
                organizerName: document.getElementById('organizerName').value,
                tableData: JSON.parse(document.getElementById('tableData').value || '[]'),
            };
            const dataStr = JSON.stringify(formData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            const title = document.getElementById('documentTitle').value.replace(/ /g, '_') || '출석부';
            const date = new Date().toISOString().slice(0, 10);
            a.download = `${title}_${date}.json`;
            a.href = url;
            a.click();
            URL.revokeObjectURL(url);
        }

        // JSON 파일 업로드
        function uploadDataFile(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const data = JSON.parse(e.target.result);
                    if (data.documentTitle && data.eventDate && data.organizerName && data.tableData) {
                        document.getElementById('documentTitle').value = data.documentTitle;
                        document.getElementById('eventDate').value = data.eventDate;
                        document.getElementById('organizerName').value = data.organizerName;
                        document.getElementById('tableData').value = JSON.stringify(data.tableData, null, 2);
                        saveFormDataToLocalStorage();
                        generateDocument();
                    } else {
                        alert('잘못된 JSON 파일 형식입니다.');
                    }
                } catch (error) {
                    alert('파일을 읽는 중 오류가 발생했습니다.');
                    console.error(error);
                }
            };
            reader.readAsText(file);
        }
        
        // 문서 미리보기 생성 및 업데이트
        function generateDocument() {
            const documentTitle = document.getElementById('documentTitle').value || '2025 파브 수련회 출석부';
            const eventDate = document.getElementById('eventDate').value || '2025년 8월 1일 ~ 3일';
            const organizerName = document.getElementById('organizerName').value || '파브 사역팀';
            const tableData = JSON.parse(document.getElementById('tableData').value || '[]');

            // 테마 설정
            let themeColor, themeColorLight, themeColorStart, themeColorEnd, headerBgImage, headerBgPosition, headerBgSize;
            
            // "출석부" 테마
            themeColor = '#1e40af';
            themeColorLight = '#60a5fa';
            themeColorStart = '#3b82f6';
            themeColorEnd = '#60a5fa';
            headerBgImage = 'url("https://placehold.co/1000x200/c7d2fe/ffffff?text=ATTENDANCE")';
            headerBgPosition = 'center';
            headerBgSize = 'cover';
            
            document.documentElement.style.setProperty('--accent-color', themeColor);
            document.documentElement.style.setProperty('--accent-color-light', themeColorLight);
            document.documentElement.style.setProperty('--accent-color-start', themeColorStart);
            document.documentElement.style.setProperty('--accent-color-end', themeColorEnd);
            document.documentElement.style.setProperty('--header-bg-image', headerBgImage);
            document.documentElement.style.setProperty('--header-bg-position', headerBgPosition);
            document.documentElement.style.setProperty('--header-bg-size', headerBgSize);

            // 미리보기 HTML 생성
            let tableRowsHtml = '';
            tableData.forEach(student => {
                tableRowsHtml += `
                    <tr data-name="${student.name}">
                        <td>${student.no}</td>
                        <td class="name-col">${student.name}</td>
                        <td>${student.birthYear}</td>
                        <td class="notes-col">${student.note}</td>
                        <td><input type="checkbox" name="dues" ${student.dues ? 'checked' : ''}></td>
                        <td><input type="checkbox" name="attendance" ${student.attendance ? 'checked' : ''}></td>
                        <td><input type="text" name="transportation" value="${student.transportation || ''}"></td>
                    </tr>
                `;
            });

            const previewHtml = `
                <div class="flex items-center justify-between mb-6 no-print">
                    <h2 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-file-alt text-blue-600 mr-2"></i>
                        생성된 양식 미리보기
                    </h2>
                    <button onclick="window.print()" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300">
                        <i class="fas fa-print mr-2"></i>
                        PDF 저장
                    </button>
                </div>
                
                <div class="gradient-header-bg text-center">
                    <h1 class="text-3xl md:text-4xl font-bold font-['Playfair_Display']">
                        ${documentTitle}
                    </h1>
                    <p class="text-lg mt-2 font-light">${eventDate}</p>
                    <p class="text-sm mt-1 opacity-80">${organizerName}</p>
                </div>

                <div class="material-section">
                    <h2 class="section-heading mb-4">
                        <i class="fas fa-users"></i>
                        참석자 명단
                    </h2>
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 5%;">No.</th>
                                <th style="width: 20%;">이름</th>
                                <th style="width: 10%;">출생년도</th>
                                <th style="width: 25%;">비고 (초대한 친구)</th>
                                <th style="width: 10%;">회비 ($)</th>
                                <th style="width: 10%;">출석</th>
                                <th style="width: 20%;">배차</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRowsHtml}
                        </tbody>
                    </table>
                </div>
            `;
            document.getElementById('documentPreview').innerHTML = previewHtml;
        }

        // 초기 데이터 설정
        const initialTableData = [
            { "no": 1, "name": "김예온", "birthYear": 2014, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 2, "name": "이소율", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 3, "name": "채유담", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 4, "name": "문사랑", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 5, "name": "김하영", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 6, "name": "이에린", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 7, "name": "Ellie", "birthYear": 2010, "note": "이에린 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 8, "name": "차지안", "birthYear": 2008, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 9, "name": "최한나", "birthYear": 2009, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 10, "name": "조수현", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 11, "name": "조수현 친구", "birthYear": 2010, "note": "조수현 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 12, "name": "최온유", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 13, "name": "조수아", "birthYear": 2011, "note": "최온유 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 14, "name": "김다애아나", "birthYear": 2011, "note": "최온유 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 15, "name": "라윤", "birthYear": 2011, "note": "최온유 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 16, "name": "이제니", "birthYear": 2011, "note": "최온유 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 17, "name": "류지효", "birthYear": null, "note": "신규", "dues": false, "attendance": false, "transportation": "" },
            { "no": 18, "name": "김은찬", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 19, "name": "심성민", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 20, "name": "최동하", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 21, "name": "안태휘", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 22, "name": "박재현", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 23, "name": "정건", "birthYear": 2007, "note": "신규", "dues": false, "attendance": false, "transportation": "" },
            { "no": 24, "name": "문에녹", "birthYear": 2008, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 25, "name": "안건우", "birthYear": 2009, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 26, "name": "조예준", "birthYear": 2007, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 27, "name": "조예준 친구", "birthYear": 2007, "note": "조예준 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 28, "name": "강은민", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 29, "name": "안태정", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 30, "name": "김조단", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 31, "name": "임해리", "birthYear": 2010, "note": "김조단 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 32, "name": "김민준", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 33, "name": "임현", "birthYear": null, "note": "신규", "dues": false, "attendance": false, "transportation": "" },
            { "no": 34, "name": "이유건", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 35, "name": "정세인", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 36, "name": "장하준", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 37, "name": "오주원", "birthYear": 2011, "note": "장하준 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 38, "name": "박민준", "birthYear": 2011, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 39, "name": "박민준 친구 1", "birthYear": 2011, "note": "박민준 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 40, "name": "박민준 친구 2", "birthYear": 2011, "note": "박민준 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 41, "name": "안시우", "birthYear": 2010, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 42, "name": "조이준", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 43, "name": "박존요한", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 44, "name": "정인", "birthYear": 2012, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 45, "name": "김주원", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 46, "name": "김은결", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 47, "name": "김지안", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 48, "name": "차지운", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 49, "name": "김요한", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 50, "name": "박조수하", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 51, "name": "Jacob", "birthYear": 2013, "note": "박조수하 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 52, "name": "장하율", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 53, "name": "전민웅", "birthYear": 2013, "note": "장하율 친구", "dues": false, "attendance": false, "transportation": "" },
            { "no": 54, "name": "최주원", "birthYear": 2013, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 55, "name": "김한결", "birthYear": 2014, "note": "", "dues": false, "attendance": false, "transportation": "" },
            { "no": 56, "name": "정태인", "birthYear": 2014, "note": "", "dues": false, "attendance": false, "transportation": "" }
        ];

        // 초기 데이터가 없으면 localStorage에 저장
        if (!localStorage.getItem('attendanceForm')) {
            document.getElementById('tableData').value = JSON.stringify(initialTableData, null, 2);
            saveFormDataToLocalStorage();
        } else {
            // localStorage에 데이터가 있으면 input에 로드
            loadFormDataFromLocalStorage();
        }
    </script>
</body>
</html>
